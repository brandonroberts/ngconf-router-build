{"version":3,"file":"server.js","sourceRoot":"","sources":["../../../../../modules/@angular/platform-server/testing/server.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  APP_ID,\n  NgZone,\n  PLATFORM_COMMON_PROVIDERS,\n  PLATFORM_INITIALIZER,\n  APPLICATION_COMMON_PROVIDERS,\n  RootRenderer\n} from '@angular/core';\nimport {DirectiveResolver, ViewResolver, XHR, COMPILER_PROVIDERS} from '@angular/compiler';\nimport {\n  TestComponentBuilder,\n  MockDirectiveResolver,\n  MockViewResolver,\n  TestComponentRenderer\n} from '@angular/compiler/testing';\nimport {Parse5DomAdapter} from '../index';\nimport {MockLocationStrategy} from '@angular/common/testing';\nimport {BrowserDetection, DOMTestComponentRenderer} from '@angular/platform-browser/testing';\nimport {AnimationDriver, NoOpAnimationDriver} from '../core_private';\nimport {\n  DOCUMENT,\n  BROWSER_SANITIZATION_PROVIDERS,\n  EventManager,\n  EVENT_MANAGER_PLUGINS,\n  ELEMENT_PROBE_PROVIDERS,\n  DomEventsPlugin,\n} from '@angular/platform-browser';\nimport {getDOM, DomRootRenderer, DomRootRenderer_, DomSharedStylesHost, SharedStylesHost} from '../platform_browser_private';\nimport {LocationStrategy} from '@angular/common';\nimport {Log} from '@angular/core/testing';\n\nfunction initServerTests() {\n  Parse5DomAdapter.makeCurrent();\n  BrowserDetection.setup();\n}\n\n/**\n * Default platform providers for testing.\n */\nexport const TEST_SERVER_PLATFORM_PROVIDERS: Array<any /*Type | Provider | any[]*/> =\n    /*@ts2dart_const*/[\n      PLATFORM_COMMON_PROVIDERS,\n      /*@ts2dart_Provider*/ {provide: PLATFORM_INITIALIZER, useValue: initServerTests, multi: true}\n    ];\n\nfunction appDoc() {\n  try {\n    return getDOM().defaultDoc();\n  } catch (e) {\n    return null;\n  }\n}\n\n\nfunction createNgZone(): NgZone {\n  return new NgZone({enableLongStackTrace: true});\n}\n\n\n/**\n * Default application providers for testing.\n */\nexport const TEST_SERVER_APPLICATION_PROVIDERS: Array<any /*Type | Provider | any[]*/> =\n    /*@ts2dart_const*/[\n      // TODO(julie: when angular2/platform/server is available, use that instead of making our own\n      // list here.\n      APPLICATION_COMMON_PROVIDERS,\n      COMPILER_PROVIDERS,\n      BROWSER_SANITIZATION_PROVIDERS,\n      /* @ts2dart_Provider */ {provide: DOCUMENT, useFactory: appDoc},\n      /* @ts2dart_Provider */ {provide: DomRootRenderer, useClass: DomRootRenderer_},\n      /* @ts2dart_Provider */ {provide: RootRenderer, useExisting: DomRootRenderer},\n      /* @ts2dart_Provider */ {provide: AnimationDriver, useClass: NoOpAnimationDriver},\n      EventManager,\n      /* @ts2dart_Provider */ {provide: EVENT_MANAGER_PLUGINS, useClass: DomEventsPlugin, multi: true},\n      /* @ts2dart_Provider */ {provide: XHR, useClass: XHR},\n      /* @ts2dart_Provider */ {provide: APP_ID, useValue: 'a'},\n      /* @ts2dart_Provider */ {provide: SharedStylesHost, useExisting: DomSharedStylesHost},\n      DomSharedStylesHost,\n      ELEMENT_PROBE_PROVIDERS,\n      /* @ts2dart_Provider */ {provide: DirectiveResolver, useClass: MockDirectiveResolver},\n      /* @ts2dart_Provider */ {provide: ViewResolver, useClass: MockViewResolver},\n      Log,\n      /* @ts2dart_Provider */ {provide: TestComponentRenderer, useClass: DOMTestComponentRenderer},\n      TestComponentBuilder,\n      /* @ts2dart_Provider */ {provide: NgZone, useFactory: createNgZone},\n      /* @ts2dart_Provider */ {provide: LocationStrategy, useClass: MockLocationStrategy}\n    ];\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}